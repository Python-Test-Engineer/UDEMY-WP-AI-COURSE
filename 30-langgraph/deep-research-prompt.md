# IMPORTANT

Build upon the 11-wp-langchain example and adapt it specifically for a deep research application using LangGraph concepts. Create a comprehensive research workflow that demonstrates advanced information processing and synthesis capabilities.

## Location

Use 30-langgraph as the base project folder, but organize the deep research app with a specialized folder structure to separate research-specific components.

## Project Structure

Create the following detailed folder architecture:

### Root Level Files:
- `wp-deep-research-langgraph.php` - Main WordPress plugin file with activation hooks, AJAX endpoints, and core functionality
- `readme.txt` - Plugin documentation with installation and usage instructions
- `package.json` - Node.js dependencies including LangChain packages for research tools
- `composer.json` - PHP dependencies if needed for advanced research processing

### Folder Organization:
- `src/` - Source JavaScript files for the research app
  - `index.js` - Main application entry point and graph workflow orchestration
  - `research-graph.js` - Graph definition with nodes and edges for research workflow
  - `tools/` - Research-specific tool implementations
    - `web-search-simulator.js` - Simulated web search functionality
    - `source-analyzer.js` - Content analysis and summarization
    - `insight-generator.js` - AI-powered insight extraction
    - `citation-manager.js` - Citation formatting and management
  - `nodes/` - Individual node implementations
    - `research-planner.js` - Query analysis and research planning
    - `info-gatherer.js` - Information collection logic
    - `deep-analyzer.js` - In-depth content analysis
    - `synthesis-responder.js` - Final response synthesis
  - `utils/` - Utility functions
    - `research-state.js` - State management for research workflow
    - `api-client.js` - OpenAI API integration

- `admin/` - WordPress admin interface components
  - `admin-page-template.php` - Main admin page template
  - `assets/css/` - Admin-specific stylesheets
    - `admin-research-styles.css` - Custom styling for research interface
  - `assets/js/` - Admin JavaScript files
    - `admin-research-script.js` - Admin page interaction logic
  - `assets/images/` - Admin interface images and icons

- `includes/` - PHP include files for backend functionality
  - `class-research-processor.php` - Main research processing class
  - `research-ajax-handlers.php` - AJAX endpoint handlers
  - `research-settings.php` - Plugin settings management

- `templates/` - Reusable template files
  - `research-results-template.php` - Template for displaying research output
  - `workflow-progress-template.php` - Template for showing workflow progress

- `build/` - Compiled and bundled assets (generated by @wordpress/scripts)
- `node_modules/` - Node.js dependencies (gitignored)

## App Specification

Create a comprehensive deep research application using LangGraph-inspired workflows:

### Core Research Workflow:
Implement a sophisticated 5-node graph workflow for thorough research:
1. **Query Analyzer**: Intelligently parses and understands research queries, identifies key concepts and requirements
2. **Research Strategist**: Develops a detailed research strategy including search terms, sources, and methodology
3. **Information Collector**: Gathers relevant information through simulated web searches and data collection
4. **Content Analyzer**: Performs deep analysis of collected information, extracting key insights and patterns
5. **Knowledge Synthesizer**: Synthesizes all findings into coherent, comprehensive research responses

### Advanced Research Tools:
- **Intelligent Web Search Tool**: Advanced search simulation with query optimization and result filtering
- **Multi-Source Analyzer Tool**: Cross-references and analyzes information from multiple simulated sources
- **Insight Extraction Tool**: Uses AI to identify key insights, trends, and conclusions
- **Citation and Reference Tool**: Automatically manages academic-style citations and references
- **Research Quality Assessor Tool**: Evaluates the quality and reliability of research findings

## WordPress Integration

Create a WordPress plugin named 'WP Deep Research LangGraph' with:
- Admin menu item at level 31 under a dedicated "AI Research" submenu
- Single-page admin interface with tabbed sections for different research functions
- AJAX-powered research execution with real-time progress updates
- Settings page for configuring research parameters and API keys

## LLM and Model Configuration

Use OpenAI GPT-4o-mini as the primary language model for all research operations, with specialized prompts for each workflow node to ensure focused and accurate research capabilities.

## Technical Requirements

### Frontend (Browser-Compatible):
- Pure JavaScript implementation without Node.js dependencies
- Simulated graph state management using JavaScript objects
- LangChain.js integration for tool calling and AI interactions
- React-based UI for research workflow visualization

### Backend (WordPress/PHP):
- WordPress AJAX endpoints for secure API key retrieval and research processing
- Database integration for storing research history and results
- Proper error handling and logging for research operations

## ENSURE

**Maintain simplicity while demonstrating advanced concepts**

**Implement extensive console logging for debugging research workflow steps**

**Include clear code comments explaining research methodologies**

**Ensure all research tools are educational and demonstrate real AI capabilities**

## AVOID

**Do not use dotenv files** - API keys are stored in WordPress database (reference 02-wp-basic-agent implementation)

**Do not use WordPress nonces** - Implement AJAX form handling without nonce dependencies

**Do not use Node.js modules** - Create browser-compatible versions of all graph and tool functionality

**Do not include external API calls without proper WordPress integration**

## Build Configuration

Configure @wordpress/scripts to bundle the src/ folder into build/ with proper asset management. Ensure the plugin correctly references bundled files for optimal loading and caching.
