<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic AI Agent with JavaScript & OpenAI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .section {
            margin-bottom: 30px;
        }

        h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            margin: 15px 0;
        }

        .keyword {
            color: #ff79c6;
        }

        .string {
            color: #50fa7b;
        }

        .comment {
            color: #6272a4;
        }

        .variable {
            color: #f1fa8c;
        }

        .function {
            color: #8be9fd;
        }

        .number {
            color: #bd93f9;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .step {
            background: #f5f5f5;
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            border-left: 4px solid #764ba2;
        }

        .step-number {
            display: inline-block;
            background: #764ba2;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }

        ul,
        ol {
            margin-left: 20px;
            margin-top: 10px;
        }

        li {
            margin: 8px 0;
            line-height: 1.6;
        }

        .interactive-demo {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        button:hover {
            background: #5568d3;
        }

        #flow-diagram {
            text-align: center;
            margin: 20px 0;
        }

        .flow-step {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 15px 25px;
            margin: 5px;
            border-radius: 8px;
            font-weight: bold;
        }

        .arrow {
            display: inline-block;
            color: #667eea;
            font-size: 2em;
            margin: 0 10px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            background: #e0e0e0;
            border-radius: 6px 6px 0 0;
            cursor: pointer;
            transition: background 0.3s;
        }

        .tab.active {
            background: #667eea;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ü§ñ Basic AI Agent with JavaScript & OpenAI</h1>
        <p class="subtitle">Understanding how to build a simple AI agent using JavaScript to interact with OpenAI's API
        </p>

        <div class="section">
            <h2>What is an AI Agent?</h2>
            <p>An AI agent is a program that can perceive its environment, make decisions, and take actions to achieve
                specific goals. In this example, our JavaScript agent receives user input, sends it to OpenAI's API
                using the modern Fetch API, and returns the AI's response.</p>
        </div>

        <div class="section">
            <h2>How It Works</h2>
            <div id="flow-diagram">
                <div class="flow-step">User Input</div>
                <span class="arrow">‚Üí</span>
                <div class="flow-step">JS Agent</div>
                <span class="arrow">‚Üí</span>
                <div class="flow-step">OpenAI API</div>
                <span class="arrow">‚Üí</span>
                <div class="flow-step">AI Response</div>
            </div>
        </div>



        <div class="section">
            <h2>Step-by-Step Breakdown</h2>

            <div class="step">
                <span class="step-number">1</span>
                <strong>Define the API endpoint</strong>
                <p>Set the OpenAI API URL as a constant variable.</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>Create the request payload</strong>
                <p>Build a JavaScript object with the model, messages array, and parameters like max_tokens.</p>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>Make the fetch request</strong>
                <p>Use the Fetch API to send a POST request with headers for content type and authorization.</p>
            </div>

            <div class="step">
                <span class="step-number">4</span>
                <strong>Check response status</strong>
                <p>Verify the request was successful by checking <code>response.ok</code> before processing.</p>
            </div>

            <div class="step">
                <span class="step-number">5</span>
                <strong>Parse and extract the response</strong>
                <p>Convert the response to JSON and extract the AI's message from the nested structure.</p>
            </div>

            <div class="step">
                <span class="step-number">6</span>
                <strong>Handle errors gracefully</strong>
                <p>Use try/catch to catch network errors and log them for debugging.</p>
            </div>
        </div>

        <div class="section">
            <h2>Key JavaScript Concepts</h2>

            <div class="info-box">
                <strong>üîÑ Async/Await</strong>
                <p>Modern JavaScript syntax for handling asynchronous operations. Makes code look synchronous while
                    remaining non-blocking. Much cleaner than callback hell!</p>
            </div>

            <div class="info-box">
                <strong>üì° Fetch API</strong>
                <p>Built-in browser API for making HTTP requests. Returns Promises and is the modern replacement for
                    XMLHttpRequest. Supported in all modern browsers.</p>
            </div>

            <div class="info-box">
                <strong>üéØ Promises</strong>
                <p>JavaScript objects representing the eventual completion or failure of an async operation. Can be
                    chained with .then() and .catch() methods.</p>
            </div>

            <div class="info-box">
                <strong>üì¶ JSON Methods</strong>
                <p>JSON.stringify() converts JavaScript objects to JSON strings for sending. response.json() parses JSON
                    responses back into JavaScript objects.</p>
            </div>
        </div>

        <div class="section">
            <h2>Browser vs Node.js Differences</h2>

            <div class="success-box">
                <strong>üåê Browser Environment</strong>
                <ul>
                    <li>Fetch API is built-in, no imports needed</li>
                    <li>Cannot safely store API keys (they're exposed to users)</li>
                    <li>CORS restrictions may apply</li>
                    <li>Best for frontend-only demos or proxied requests</li>
                </ul>
            </div>

            <div class="success-box">
                <strong>üñ•Ô∏è Node.js Environment</strong>
                <ul>
                    <li>Need to install node-fetch: <code>npm install node-fetch</code></li>
                    <li>Can safely use environment variables for API keys</li>
                    <li>No CORS restrictions</li>
                    <li>Best for production backends and secure API calls</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Important Security Considerations</h2>

            <div class="warning-box">
                <strong>‚ö†Ô∏è CRITICAL: Never Expose API Keys in Frontend Code</strong>
                <p>If you put your OpenAI API key in JavaScript that runs in the browser, anyone can see it by viewing
                    your page source or network requests. This means:</p>
                <ul>
                    <li>‚ùå Don't hardcode API keys in client-side JavaScript</li>
                    <li>‚ùå Don't commit API keys to GitHub or public repos</li>
                    <li>‚úÖ Use a backend server to make API calls</li>
                    <li>‚úÖ Store keys in environment variables (<code>process.env.OPENAI_API_KEY</code>)</li>
                    <li>‚úÖ Implement authentication for your users</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>üèóÔ∏è Proper Architecture</strong>
                <p><strong>Secure Pattern:</strong> Frontend ‚Üí Your Backend Server ‚Üí OpenAI API</p>
                <p>Your backend holds the API key securely and acts as a proxy, adding authentication and rate limiting.
                </p>
            </div>
        </div>

        <div class="section">
            <h2>Additional Considerations</h2>

            <div class="warning-box">
                <strong>üí∞ Cost Management</strong>
                <ul>
                    <li>OpenAI charges per token (both input and output)</li>
                    <li>Use max_tokens to limit response length</li>
                    <li>Monitor usage in OpenAI dashboard</li>
                    <li>Implement rate limiting on your backend</li>
                </ul>
            </div>

            <div class="info-box">
                <strong>üîÑ Error Handling Best Practices</strong>
                <ul>
                    <li>Always check <code>response.ok</code> before parsing JSON</li>
                    <li>Handle network failures with try/catch</li>
                    <li>Implement retry logic for transient failures</li>
                    <li>Provide user-friendly error messages</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Extending the Agent</h2>
            <p>Enhance this basic agent with:</p>
            <ul>
                <li><strong>Conversation History:</strong> Maintain context by storing previous messages</li>
                <li><strong>System Messages:</strong> Add personality with a system role message</li>
                <li><strong>Streaming Responses:</strong> Use Server-Sent Events for real-time output</li>
                <li><strong>Function Calling:</strong> Let the AI use tools and APIs</li>
                <li><strong>Error Recovery:</strong> Implement exponential backoff for retries</li>
                <li><strong>Response Caching:</strong> Save API costs by caching common queries</li>
            </ul>
        </div>

        <div class="interactive-demo">
            <h3>üí° Getting Started</h3>
            <p><strong>For Node.js Backend (Recommended for Production):</strong></p>
            <ol>
                <li>Install Node.js from <a href="https://nodejs.org" target="_blank">nodejs.org</a></li>
                <li>Create a new project: <code>npm init -y</code></li>
                <li>Install fetch: <code>npm install node-fetch</code></li>
                <li>Get API key from <a href="https://platform.openai.com" target="_blank">platform.openai.com</a></li>
                <li>Store key in .env file: <code>OPENAI_API_KEY=your-key</code></li>
                <li>Run your agent: <code>node agent.js</code></li>
            </ol>

            <p><strong>For Browser Testing (Development Only):</strong></p>
            <ol>
                <li>Copy the async/await code into a <code>&lt;script&gt;</code> tag</li>
                <li>Open your HTML file in a browser</li>
                <li>Check the console for output</li>
                <li><strong>Remember:</strong> Never use real API keys in browser code!</li>
            </ol>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }
    </script>
</body>

</html>